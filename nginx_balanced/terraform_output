
Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create
[0m
Terraform will perform the following actions:

[1m  # local_file.inventory[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "local_file" "inventory" {
      [32m+[0m [0m[1m[0mcontent[0m[0m              = (known after apply)
      [32m+[0m [0m[1m[0mcontent_base64sha256[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mcontent_base64sha512[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mcontent_md5[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mcontent_sha1[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mcontent_sha256[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mcontent_sha512[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mdirectory_permission[0m[0m = "0777"
      [32m+[0m [0m[1m[0mfile_permission[0m[0m      = "0777"
      [32m+[0m [0m[1m[0mfilename[0m[0m             = "../ansible/inventory.yaml"
      [32m+[0m [0m[1m[0mid[0m[0m                   = (known after apply)
    }

[1m  # local_file.nginx_file[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "local_file" "nginx_file" {
      [32m+[0m [0m[1m[0mcontent[0m[0m              = (known after apply)
      [32m+[0m [0m[1m[0mcontent_base64sha256[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mcontent_base64sha512[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mcontent_md5[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mcontent_sha1[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mcontent_sha256[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mcontent_sha512[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mdirectory_permission[0m[0m = "0777"
      [32m+[0m [0m[1m[0mfile_permission[0m[0m      = "0777"
      [32m+[0m [0m[1m[0mfilename[0m[0m             = "default"
      [32m+[0m [0m[1m[0mid[0m[0m                   = (known after apply)
    }

[1m  # null_resource.ansible_nginx[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "null_resource" "ansible_nginx" {
      [32m+[0m [0m[1m[0mid[0m[0m = (known after apply)
    }

[1m  # null_resource.ansible_nginx_uwsgi[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "null_resource" "ansible_nginx_uwsgi" {
      [32m+[0m [0m[1m[0mid[0m[0m = (known after apply)
    }

[1m  # null_resource.ansible_nginx_uwsgi_install[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "null_resource" "ansible_nginx_uwsgi_install" {
      [32m+[0m [0m[1m[0mid[0m[0m = (known after apply)
    }

[1m  # null_resource.wait[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "null_resource" "wait" {
      [32m+[0m [0m[1m[0mid[0m[0m = (known after apply)
    }

[1m  # yandex_compute_instance.backend_nginx1[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "yandex_compute_instance" "backend_nginx1" {
      [32m+[0m [0m[1m[0mcreated_at[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mfolder_id[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mfqdn[0m[0m                      = (known after apply)
      [32m+[0m [0m[1m[0mgpu_cluster_id[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mhostname[0m[0m                  = "demo-vm2"
      [32m+[0m [0m[1m[0mid[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0mmetadata[0m[0m                  = {
          [32m+[0m [0m"ssh-keys" = <<-EOT
                ubuntu:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg86r9ifFZP7awcLXq1RzWsu/YL9COKbWQK9Fiq6kt3JShL9FqGv1AzM3xJA4NTWD2Hwn5ujP82VZZ4ivliPvm0Qo+x4uKOn5633+Dx74tOt+3A2eR4rMY9cgyrQL/nRRyZTcdxkoAli+wy73RNd8TO39aGWMRo186myMbrEbwRQS9oLIwAE0cA28/qwYPBP62hAJG9ts6r32DzT9+yVfLn85r3NzsN2zcjhdxAez6/OwWn1uS9qhyBUWx9owTe5SHv/zYUrzSiiqjKUH7Q4L6iPkiVlS1jkBitlQGGwVp46SGhj7oei+ZmWCgq0em9NubeJacQQDo52IF0tYFQzxSGE1hkoVnRz7x3gIHAw8mzu1QV6X3LgufnJul7nTa16L2IPGOK7EZgaXSGzj8n+2ViQBKtdhne2K03cTv5XQzUz/e2jAaTXPf2J8A/TJh4aMo/LnNQjGHDE+PRie+tniKThbmUmH/lXgH3HNHO6Uyv0bSxhpHVTdu2yS8En5gGVE= vagrant@vagrant
            EOT
        }
      [32m+[0m [0m[1m[0mname[0m[0m                      = "demo-vm2"
      [32m+[0m [0m[1m[0mnetwork_acceleration_type[0m[0m = "standard"
      [32m+[0m [0m[1m[0mplatform_id[0m[0m               = "standard-v3"
      [32m+[0m [0m[1m[0mservice_account_id[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mstatus[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mzone[0m[0m                      = "ru-central1-a"

      [32m+[0m [0mboot_disk {
          [32m+[0m [0m[1m[0mauto_delete[0m[0m = true
          [32m+[0m [0m[1m[0mdevice_name[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mdisk_id[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0mmode[0m[0m        = (known after apply)

          [32m+[0m [0minitialize_params {
              [32m+[0m [0m[1m[0mblock_size[0m[0m  = (known after apply)
              [32m+[0m [0m[1m[0mdescription[0m[0m = (known after apply)
              [32m+[0m [0m[1m[0mimage_id[0m[0m    = "fd879gb88170to70d38a"
              [32m+[0m [0m[1m[0mname[0m[0m        = (known after apply)
              [32m+[0m [0m[1m[0msize[0m[0m        = 10
              [32m+[0m [0m[1m[0msnapshot_id[0m[0m = (known after apply)
              [32m+[0m [0m[1m[0mtype[0m[0m        = "network-ssd"
            }
        }

      [32m+[0m [0mmetadata_options {
          [32m+[0m [0m[1m[0maws_v1_http_endpoint[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0maws_v1_http_token[0m[0m    = (known after apply)
          [32m+[0m [0m[1m[0mgce_http_endpoint[0m[0m    = (known after apply)
          [32m+[0m [0m[1m[0mgce_http_token[0m[0m       = (known after apply)
        }

      [32m+[0m [0mnetwork_interface {
          [32m+[0m [0m[1m[0mindex[0m[0m              = (known after apply)
          [32m+[0m [0m[1m[0mip_address[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mipv4[0m[0m               = true
          [32m+[0m [0m[1m[0mipv6[0m[0m               = (known after apply)
          [32m+[0m [0m[1m[0mipv6_address[0m[0m       = (known after apply)
          [32m+[0m [0m[1m[0mmac_address[0m[0m        = (known after apply)
          [32m+[0m [0m[1m[0mnat[0m[0m                = false
          [32m+[0m [0m[1m[0mnat_ip_address[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0mnat_ip_version[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0msecurity_group_ids[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0msubnet_id[0m[0m          = (known after apply)
        }

      [32m+[0m [0mplacement_policy {
          [32m+[0m [0m[1m[0mhost_affinity_rules[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mplacement_group_id[0m[0m  = (known after apply)
        }

      [32m+[0m [0mresources {
          [32m+[0m [0m[1m[0mcore_fraction[0m[0m = 100
          [32m+[0m [0m[1m[0mcores[0m[0m         = 2
          [32m+[0m [0m[1m[0mmemory[0m[0m        = 4
        }

      [32m+[0m [0mscheduling_policy {
          [32m+[0m [0m[1m[0mpreemptible[0m[0m = (known after apply)
        }
    }

[1m  # yandex_compute_instance.backend_nginx2[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "yandex_compute_instance" "backend_nginx2" {
      [32m+[0m [0m[1m[0mcreated_at[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mfolder_id[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mfqdn[0m[0m                      = (known after apply)
      [32m+[0m [0m[1m[0mgpu_cluster_id[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mhostname[0m[0m                  = "demo-vm3"
      [32m+[0m [0m[1m[0mid[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0mmetadata[0m[0m                  = {
          [32m+[0m [0m"ssh-keys" = <<-EOT
                ubuntu:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg86r9ifFZP7awcLXq1RzWsu/YL9COKbWQK9Fiq6kt3JShL9FqGv1AzM3xJA4NTWD2Hwn5ujP82VZZ4ivliPvm0Qo+x4uKOn5633+Dx74tOt+3A2eR4rMY9cgyrQL/nRRyZTcdxkoAli+wy73RNd8TO39aGWMRo186myMbrEbwRQS9oLIwAE0cA28/qwYPBP62hAJG9ts6r32DzT9+yVfLn85r3NzsN2zcjhdxAez6/OwWn1uS9qhyBUWx9owTe5SHv/zYUrzSiiqjKUH7Q4L6iPkiVlS1jkBitlQGGwVp46SGhj7oei+ZmWCgq0em9NubeJacQQDo52IF0tYFQzxSGE1hkoVnRz7x3gIHAw8mzu1QV6X3LgufnJul7nTa16L2IPGOK7EZgaXSGzj8n+2ViQBKtdhne2K03cTv5XQzUz/e2jAaTXPf2J8A/TJh4aMo/LnNQjGHDE+PRie+tniKThbmUmH/lXgH3HNHO6Uyv0bSxhpHVTdu2yS8En5gGVE= vagrant@vagrant
            EOT
        }
      [32m+[0m [0m[1m[0mname[0m[0m                      = "demo-vm3"
      [32m+[0m [0m[1m[0mnetwork_acceleration_type[0m[0m = "standard"
      [32m+[0m [0m[1m[0mplatform_id[0m[0m               = "standard-v3"
      [32m+[0m [0m[1m[0mservice_account_id[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mstatus[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mzone[0m[0m                      = "ru-central1-a"

      [32m+[0m [0mboot_disk {
          [32m+[0m [0m[1m[0mauto_delete[0m[0m = true
          [32m+[0m [0m[1m[0mdevice_name[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mdisk_id[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0mmode[0m[0m        = (known after apply)

          [32m+[0m [0minitialize_params {
              [32m+[0m [0m[1m[0mblock_size[0m[0m  = (known after apply)
              [32m+[0m [0m[1m[0mdescription[0m[0m = (known after apply)
              [32m+[0m [0m[1m[0mimage_id[0m[0m    = "fd879gb88170to70d38a"
              [32m+[0m [0m[1m[0mname[0m[0m        = (known after apply)
              [32m+[0m [0m[1m[0msize[0m[0m        = 10
              [32m+[0m [0m[1m[0msnapshot_id[0m[0m = (known after apply)
              [32m+[0m [0m[1m[0mtype[0m[0m        = "network-ssd"
            }
        }

      [32m+[0m [0mmetadata_options {
          [32m+[0m [0m[1m[0maws_v1_http_endpoint[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0maws_v1_http_token[0m[0m    = (known after apply)
          [32m+[0m [0m[1m[0mgce_http_endpoint[0m[0m    = (known after apply)
          [32m+[0m [0m[1m[0mgce_http_token[0m[0m       = (known after apply)
        }

      [32m+[0m [0mnetwork_interface {
          [32m+[0m [0m[1m[0mindex[0m[0m              = (known after apply)
          [32m+[0m [0m[1m[0mip_address[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mipv4[0m[0m               = true
          [32m+[0m [0m[1m[0mipv6[0m[0m               = (known after apply)
          [32m+[0m [0m[1m[0mipv6_address[0m[0m       = (known after apply)
          [32m+[0m [0m[1m[0mmac_address[0m[0m        = (known after apply)
          [32m+[0m [0m[1m[0mnat[0m[0m                = false
          [32m+[0m [0m[1m[0mnat_ip_address[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0mnat_ip_version[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0msecurity_group_ids[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0msubnet_id[0m[0m          = (known after apply)
        }

      [32m+[0m [0mplacement_policy {
          [32m+[0m [0m[1m[0mhost_affinity_rules[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mplacement_group_id[0m[0m  = (known after apply)
        }

      [32m+[0m [0mresources {
          [32m+[0m [0m[1m[0mcore_fraction[0m[0m = 100
          [32m+[0m [0m[1m[0mcores[0m[0m         = 2
          [32m+[0m [0m[1m[0mmemory[0m[0m        = 4
        }

      [32m+[0m [0mscheduling_policy {
          [32m+[0m [0m[1m[0mpreemptible[0m[0m = (known after apply)
        }
    }

[1m  # yandex_compute_instance.balance_nginx[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "yandex_compute_instance" "balance_nginx" {
      [32m+[0m [0m[1m[0mcreated_at[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mfolder_id[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mfqdn[0m[0m                      = (known after apply)
      [32m+[0m [0m[1m[0mgpu_cluster_id[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mhostname[0m[0m                  = "demo-vm"
      [32m+[0m [0m[1m[0mid[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0mmetadata[0m[0m                  = {
          [32m+[0m [0m"ssh-keys" = <<-EOT
                ubuntu:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg86r9ifFZP7awcLXq1RzWsu/YL9COKbWQK9Fiq6kt3JShL9FqGv1AzM3xJA4NTWD2Hwn5ujP82VZZ4ivliPvm0Qo+x4uKOn5633+Dx74tOt+3A2eR4rMY9cgyrQL/nRRyZTcdxkoAli+wy73RNd8TO39aGWMRo186myMbrEbwRQS9oLIwAE0cA28/qwYPBP62hAJG9ts6r32DzT9+yVfLn85r3NzsN2zcjhdxAez6/OwWn1uS9qhyBUWx9owTe5SHv/zYUrzSiiqjKUH7Q4L6iPkiVlS1jkBitlQGGwVp46SGhj7oei+ZmWCgq0em9NubeJacQQDo52IF0tYFQzxSGE1hkoVnRz7x3gIHAw8mzu1QV6X3LgufnJul7nTa16L2IPGOK7EZgaXSGzj8n+2ViQBKtdhne2K03cTv5XQzUz/e2jAaTXPf2J8A/TJh4aMo/LnNQjGHDE+PRie+tniKThbmUmH/lXgH3HNHO6Uyv0bSxhpHVTdu2yS8En5gGVE= vagrant@vagrant
            EOT
        }
      [32m+[0m [0m[1m[0mname[0m[0m                      = "demo-vm"
      [32m+[0m [0m[1m[0mnetwork_acceleration_type[0m[0m = "standard"
      [32m+[0m [0m[1m[0mplatform_id[0m[0m               = "standard-v3"
      [32m+[0m [0m[1m[0mservice_account_id[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mstatus[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mzone[0m[0m                      = "ru-central1-a"

      [32m+[0m [0mboot_disk {
          [32m+[0m [0m[1m[0mauto_delete[0m[0m = true
          [32m+[0m [0m[1m[0mdevice_name[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mdisk_id[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0mmode[0m[0m        = (known after apply)

          [32m+[0m [0minitialize_params {
              [32m+[0m [0m[1m[0mblock_size[0m[0m  = (known after apply)
              [32m+[0m [0m[1m[0mdescription[0m[0m = (known after apply)
              [32m+[0m [0m[1m[0mimage_id[0m[0m    = "fd879gb88170to70d38a"
              [32m+[0m [0m[1m[0mname[0m[0m        = (known after apply)
              [32m+[0m [0m[1m[0msize[0m[0m        = 10
              [32m+[0m [0m[1m[0msnapshot_id[0m[0m = (known after apply)
              [32m+[0m [0m[1m[0mtype[0m[0m        = "network-ssd"
            }
        }

      [32m+[0m [0mmetadata_options {
          [32m+[0m [0m[1m[0maws_v1_http_endpoint[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0maws_v1_http_token[0m[0m    = (known after apply)
          [32m+[0m [0m[1m[0mgce_http_endpoint[0m[0m    = (known after apply)
          [32m+[0m [0m[1m[0mgce_http_token[0m[0m       = (known after apply)
        }

      [32m+[0m [0mnetwork_interface {
          [32m+[0m [0m[1m[0mindex[0m[0m              = (known after apply)
          [32m+[0m [0m[1m[0mip_address[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mipv4[0m[0m               = true
          [32m+[0m [0m[1m[0mipv6[0m[0m               = (known after apply)
          [32m+[0m [0m[1m[0mipv6_address[0m[0m       = (known after apply)
          [32m+[0m [0m[1m[0mmac_address[0m[0m        = (known after apply)
          [32m+[0m [0m[1m[0mnat[0m[0m                = true
          [32m+[0m [0m[1m[0mnat_ip_address[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0mnat_ip_version[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0msecurity_group_ids[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0msubnet_id[0m[0m          = (known after apply)
        }

      [32m+[0m [0mplacement_policy {
          [32m+[0m [0m[1m[0mhost_affinity_rules[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mplacement_group_id[0m[0m  = (known after apply)
        }

      [32m+[0m [0mresources {
          [32m+[0m [0m[1m[0mcore_fraction[0m[0m = 100
          [32m+[0m [0m[1m[0mcores[0m[0m         = 2
          [32m+[0m [0m[1m[0mmemory[0m[0m        = 4
        }

      [32m+[0m [0mscheduling_policy {
          [32m+[0m [0m[1m[0mpreemptible[0m[0m = (known after apply)
        }
    }

[1m  # yandex_compute_instance.db[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "yandex_compute_instance" "db" {
      [32m+[0m [0m[1m[0mcreated_at[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mfolder_id[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mfqdn[0m[0m                      = (known after apply)
      [32m+[0m [0m[1m[0mgpu_cluster_id[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mhostname[0m[0m                  = "demo-vm4"
      [32m+[0m [0m[1m[0mid[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0mmetadata[0m[0m                  = {
          [32m+[0m [0m"ssh-keys" = <<-EOT
                ubuntu:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg86r9ifFZP7awcLXq1RzWsu/YL9COKbWQK9Fiq6kt3JShL9FqGv1AzM3xJA4NTWD2Hwn5ujP82VZZ4ivliPvm0Qo+x4uKOn5633+Dx74tOt+3A2eR4rMY9cgyrQL/nRRyZTcdxkoAli+wy73RNd8TO39aGWMRo186myMbrEbwRQS9oLIwAE0cA28/qwYPBP62hAJG9ts6r32DzT9+yVfLn85r3NzsN2zcjhdxAez6/OwWn1uS9qhyBUWx9owTe5SHv/zYUrzSiiqjKUH7Q4L6iPkiVlS1jkBitlQGGwVp46SGhj7oei+ZmWCgq0em9NubeJacQQDo52IF0tYFQzxSGE1hkoVnRz7x3gIHAw8mzu1QV6X3LgufnJul7nTa16L2IPGOK7EZgaXSGzj8n+2ViQBKtdhne2K03cTv5XQzUz/e2jAaTXPf2J8A/TJh4aMo/LnNQjGHDE+PRie+tniKThbmUmH/lXgH3HNHO6Uyv0bSxhpHVTdu2yS8En5gGVE= vagrant@vagrant
            EOT
        }
      [32m+[0m [0m[1m[0mname[0m[0m                      = "demo-vm4"
      [32m+[0m [0m[1m[0mnetwork_acceleration_type[0m[0m = "standard"
      [32m+[0m [0m[1m[0mplatform_id[0m[0m               = "standard-v3"
      [32m+[0m [0m[1m[0mservice_account_id[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mstatus[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mzone[0m[0m                      = "ru-central1-a"

      [32m+[0m [0mboot_disk {
          [32m+[0m [0m[1m[0mauto_delete[0m[0m = true
          [32m+[0m [0m[1m[0mdevice_name[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mdisk_id[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0mmode[0m[0m        = (known after apply)

          [32m+[0m [0minitialize_params {
              [32m+[0m [0m[1m[0mblock_size[0m[0m  = (known after apply)
              [32m+[0m [0m[1m[0mdescription[0m[0m = (known after apply)
              [32m+[0m [0m[1m[0mimage_id[0m[0m    = "fd879gb88170to70d38a"
              [32m+[0m [0m[1m[0mname[0m[0m        = (known after apply)
              [32m+[0m [0m[1m[0msize[0m[0m        = 10
              [32m+[0m [0m[1m[0msnapshot_id[0m[0m = (known after apply)
              [32m+[0m [0m[1m[0mtype[0m[0m        = "network-ssd"
            }
        }

      [32m+[0m [0mmetadata_options {
          [32m+[0m [0m[1m[0maws_v1_http_endpoint[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0maws_v1_http_token[0m[0m    = (known after apply)
          [32m+[0m [0m[1m[0mgce_http_endpoint[0m[0m    = (known after apply)
          [32m+[0m [0m[1m[0mgce_http_token[0m[0m       = (known after apply)
        }

      [32m+[0m [0mnetwork_interface {
          [32m+[0m [0m[1m[0mindex[0m[0m              = (known after apply)
          [32m+[0m [0m[1m[0mip_address[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mipv4[0m[0m               = true
          [32m+[0m [0m[1m[0mipv6[0m[0m               = (known after apply)
          [32m+[0m [0m[1m[0mipv6_address[0m[0m       = (known after apply)
          [32m+[0m [0m[1m[0mmac_address[0m[0m        = (known after apply)
          [32m+[0m [0m[1m[0mnat[0m[0m                = false
          [32m+[0m [0m[1m[0mnat_ip_address[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0mnat_ip_version[0m[0m     = (known after apply)
          [32m+[0m [0m[1m[0msecurity_group_ids[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0msubnet_id[0m[0m          = (known after apply)
        }

      [32m+[0m [0mplacement_policy {
          [32m+[0m [0m[1m[0mhost_affinity_rules[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mplacement_group_id[0m[0m  = (known after apply)
        }

      [32m+[0m [0mresources {
          [32m+[0m [0m[1m[0mcore_fraction[0m[0m = 100
          [32m+[0m [0m[1m[0mcores[0m[0m         = 2
          [32m+[0m [0m[1m[0mmemory[0m[0m        = 4
        }

      [32m+[0m [0mscheduling_policy {
          [32m+[0m [0m[1m[0mpreemptible[0m[0m = (known after apply)
        }
    }

[1m  # yandex_vpc_network.vpc[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "yandex_vpc_network" "vpc" {
      [32m+[0m [0m[1m[0mcreated_at[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mdefault_security_group_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mfolder_id[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0mlabels[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m                      = "demo_vpc"
      [32m+[0m [0m[1m[0msubnet_ids[0m[0m                = (known after apply)
    }

[1m  # yandex_vpc_route_table.nat-instance-route[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "yandex_vpc_route_table" "nat-instance-route" {
      [32m+[0m [0m[1m[0mcreated_at[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mfolder_id[0m[0m  = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mlabels[0m[0m     = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m       = "nat-instance-route"
      [32m+[0m [0m[1m[0mnetwork_id[0m[0m = (known after apply)

      [32m+[0m [0mstatic_route {
          [32m+[0m [0m[1m[0mdestination_prefix[0m[0m = "0.0.0.0/0"
          [32m+[0m [0m[1m[0mnext_hop_address[0m[0m   = (known after apply)
        }
    }

[1m  # yandex_vpc_security_group.nat-instance-sg[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "yandex_vpc_security_group" "nat-instance-sg" {
      [32m+[0m [0m[1m[0mcreated_at[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mfolder_id[0m[0m  = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mlabels[0m[0m     = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m       = "nat-instance-sg"
      [32m+[0m [0m[1m[0mnetwork_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mstatus[0m[0m     = (known after apply)

      [32m+[0m [0megress {
          [32m+[0m [0m[1m[0mdescription[0m[0m    = "any"
          [32m+[0m [0m[1m[0mfrom_port[0m[0m      = -1
          [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
          [32m+[0m [0m[1m[0mlabels[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mport[0m[0m           = -1
          [32m+[0m [0m[1m[0mprotocol[0m[0m       = "ANY"
          [32m+[0m [0m[1m[0mto_port[0m[0m        = -1
          [32m+[0m [0m[1m[0mv4_cidr_blocks[0m[0m = [
              [32m+[0m [0m"0.0.0.0/0",
            ]
          [32m+[0m [0m[1m[0mv6_cidr_blocks[0m[0m = []
        }

      [32m+[0m [0mingress {
          [32m+[0m [0m[1m[0mdescription[0m[0m    = "ext-http"
          [32m+[0m [0m[1m[0mfrom_port[0m[0m      = -1
          [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
          [32m+[0m [0m[1m[0mlabels[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mport[0m[0m           = 80
          [32m+[0m [0m[1m[0mprotocol[0m[0m       = "TCP"
          [32m+[0m [0m[1m[0mto_port[0m[0m        = -1
          [32m+[0m [0m[1m[0mv4_cidr_blocks[0m[0m = [
              [32m+[0m [0m"0.0.0.0/0",
            ]
          [32m+[0m [0m[1m[0mv6_cidr_blocks[0m[0m = []
        }
      [32m+[0m [0mingress {
          [32m+[0m [0m[1m[0mdescription[0m[0m    = "ext-https"
          [32m+[0m [0m[1m[0mfrom_port[0m[0m      = -1
          [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
          [32m+[0m [0m[1m[0mlabels[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mport[0m[0m           = 443
          [32m+[0m [0m[1m[0mprotocol[0m[0m       = "TCP"
          [32m+[0m [0m[1m[0mto_port[0m[0m        = -1
          [32m+[0m [0m[1m[0mv4_cidr_blocks[0m[0m = [
              [32m+[0m [0m"0.0.0.0/0",
            ]
          [32m+[0m [0m[1m[0mv6_cidr_blocks[0m[0m = []
        }
      [32m+[0m [0mingress {
          [32m+[0m [0m[1m[0mdescription[0m[0m    = "ftp"
          [32m+[0m [0m[1m[0mfrom_port[0m[0m      = -1
          [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
          [32m+[0m [0m[1m[0mlabels[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mport[0m[0m           = 21
          [32m+[0m [0m[1m[0mprotocol[0m[0m       = "TCP"
          [32m+[0m [0m[1m[0mto_port[0m[0m        = -1
          [32m+[0m [0m[1m[0mv4_cidr_blocks[0m[0m = [
              [32m+[0m [0m"0.0.0.0/0",
            ]
          [32m+[0m [0m[1m[0mv6_cidr_blocks[0m[0m = []
        }
      [32m+[0m [0mingress {
          [32m+[0m [0m[1m[0mdescription[0m[0m    = "icmp"
          [32m+[0m [0m[1m[0mfrom_port[0m[0m      = -1
          [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
          [32m+[0m [0m[1m[0mlabels[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mport[0m[0m           = -1
          [32m+[0m [0m[1m[0mprotocol[0m[0m       = "ICMP"
          [32m+[0m [0m[1m[0mto_port[0m[0m        = -1
          [32m+[0m [0m[1m[0mv4_cidr_blocks[0m[0m = [
              [32m+[0m [0m"0.0.0.0/0",
            ]
          [32m+[0m [0m[1m[0mv6_cidr_blocks[0m[0m = []
        }
      [32m+[0m [0mingress {
          [32m+[0m [0m[1m[0mdescription[0m[0m    = "ssh"
          [32m+[0m [0m[1m[0mfrom_port[0m[0m      = -1
          [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
          [32m+[0m [0m[1m[0mlabels[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mport[0m[0m           = 22
          [32m+[0m [0m[1m[0mprotocol[0m[0m       = "TCP"
          [32m+[0m [0m[1m[0mto_port[0m[0m        = -1
          [32m+[0m [0m[1m[0mv4_cidr_blocks[0m[0m = [
              [32m+[0m [0m"0.0.0.0/0",
            ]
          [32m+[0m [0m[1m[0mv6_cidr_blocks[0m[0m = []
        }
      [32m+[0m [0mingress {
          [32m+[0m [0m[1m[0mdescription[0m[0m    = "update"
          [32m+[0m [0m[1m[0mfrom_port[0m[0m      = -1
          [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
          [32m+[0m [0m[1m[0mlabels[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mport[0m[0m           = 871
          [32m+[0m [0m[1m[0mprotocol[0m[0m       = "TCP"
          [32m+[0m [0m[1m[0mto_port[0m[0m        = -1
          [32m+[0m [0m[1m[0mv4_cidr_blocks[0m[0m = [
              [32m+[0m [0m"0.0.0.0/0",
            ]
          [32m+[0m [0m[1m[0mv6_cidr_blocks[0m[0m = []
        }
    }

[1m  # yandex_vpc_subnet.private_subnet[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "yandex_vpc_subnet" "private_subnet" {
      [32m+[0m [0m[1m[0mcreated_at[0m[0m     = (known after apply)
      [32m+[0m [0m[1m[0mfolder_id[0m[0m      = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mlabels[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m           = "demo_subnet"
      [32m+[0m [0m[1m[0mnetwork_id[0m[0m     = (known after apply)
      [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mv4_cidr_blocks[0m[0m = [
          [32m+[0m [0m"10.10.10.0/24",
        ]
      [32m+[0m [0m[1m[0mv6_cidr_blocks[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mzone[0m[0m           = "ru-central1-a"
    }

[1m  # yandex_vpc_subnet.public_subnet[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "yandex_vpc_subnet" "public_subnet" {
      [32m+[0m [0m[1m[0mcreated_at[0m[0m     = (known after apply)
      [32m+[0m [0m[1m[0mfolder_id[0m[0m      = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mlabels[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m           = "pub_subnet"
      [32m+[0m [0m[1m[0mnetwork_id[0m[0m     = (known after apply)
      [32m+[0m [0m[1m[0mv4_cidr_blocks[0m[0m = [
          [32m+[0m [0m"10.10.11.0/24",
        ]
      [32m+[0m [0m[1m[0mv6_cidr_blocks[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mzone[0m[0m           = "ru-central1-a"
    }

[0m[1mPlan:[0m 15 to add, 0 to change, 0 to destroy.
[0m[0m
[1mChanges to Outputs:[0m[0m
  [32m+[0m [0m[1m[0mexternal_ip_address_balance_nginx[0m[0m  = (known after apply)
  [32m+[0m [0m[1m[0minternal_ip_address_backend1_nginx[0m[0m = (known after apply)
  [32m+[0m [0m[1m[0minternal_ip_address_backend2_nginx[0m[0m = (known after apply)
  [32m+[0m [0m[1m[0minternal_ip_address_balance_nginx[0m[0m  = (known after apply)
  [32m+[0m [0m[1m[0minternal_ip_address_db[0m[0m             = (known after apply)
[0m[1m
Do you want to perform these actions?[0m
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  [1mEnter a value:[0m [0m
[0m[1myandex_vpc_network.vpc: Creating...[0m[0m
[0m[1myandex_vpc_network.vpc: Creation complete after 2s [id=enpg8h7eqbspkj31sa9e][0m
[0m[1myandex_vpc_subnet.public_subnet: Creating...[0m[0m
[0m[1myandex_vpc_security_group.nat-instance-sg: Creating...[0m[0m
[0m[1myandex_vpc_subnet.public_subnet: Creation complete after 1s [id=e9be7r7p3v14631kbgp6][0m
[0m[1myandex_vpc_security_group.nat-instance-sg: Creation complete after 2s [id=enpjppkadumfjjk4e039][0m
[0m[1myandex_compute_instance.balance_nginx: Creating...[0m[0m
[0m[1myandex_compute_instance.balance_nginx: Still creating... [10s elapsed][0m[0m
[0m[1myandex_compute_instance.balance_nginx: Still creating... [20s elapsed][0m[0m
[0m[1myandex_compute_instance.balance_nginx: Still creating... [30s elapsed][0m[0m
[0m[1myandex_compute_instance.balance_nginx: Still creating... [40s elapsed][0m[0m
[0m[1myandex_compute_instance.balance_nginx: Still creating... [50s elapsed][0m[0m
[0m[1myandex_compute_instance.balance_nginx: Still creating... [1m0s elapsed][0m[0m
[0m[1myandex_compute_instance.balance_nginx: Creation complete after 1m3s [id=fhmu419u11653893t45s][0m
[0m[1myandex_vpc_route_table.nat-instance-route: Creating...[0m[0m
[0m[1myandex_vpc_route_table.nat-instance-route: Creation complete after 1s [id=enpio32mvrq4cg4o9ocf][0m
[0m[1myandex_vpc_subnet.private_subnet: Creating...[0m[0m
[0m[1myandex_vpc_subnet.private_subnet: Creation complete after 0s [id=e9b9nqibo3ufs6sbmquj][0m
[0m[1myandex_compute_instance.db: Creating...[0m[0m
[0m[1myandex_compute_instance.backend_nginx1: Creating...[0m[0m
[0m[1myandex_compute_instance.backend_nginx2: Creating...[0m[0m
[0m[1myandex_compute_instance.db: Still creating... [10s elapsed][0m[0m
[0m[1myandex_compute_instance.backend_nginx1: Still creating... [10s elapsed][0m[0m
[0m[1myandex_compute_instance.backend_nginx2: Still creating... [10s elapsed][0m[0m
[0m[1myandex_compute_instance.db: Still creating... [20s elapsed][0m[0m
[0m[1myandex_compute_instance.backend_nginx1: Still creating... [20s elapsed][0m[0m
[0m[1myandex_compute_instance.backend_nginx2: Still creating... [20s elapsed][0m[0m
[0m[1myandex_compute_instance.db: Creation complete after 29s [id=fhmfnn55vui23md5n9q5][0m
[0m[1myandex_compute_instance.backend_nginx1: Still creating... [30s elapsed][0m[0m
[0m[1myandex_compute_instance.backend_nginx2: Still creating... [30s elapsed][0m[0m
[0m[1myandex_compute_instance.backend_nginx2: Creation complete after 32s [id=fhm3lh8343gif3cvb81a][0m
[0m[1myandex_compute_instance.backend_nginx1: Creation complete after 36s [id=fhmktblq0c9t3s5a1q5p][0m
[0m[1mlocal_file.inventory: Creating...[0m[0m
[0m[1mlocal_file.inventory: Creation complete after 0s [id=ad2bf8bf845280c8eb2e38de71d3bc11e7dfe1b5][0m
[0m[1mlocal_file.nginx_file: Creating...[0m[0m
[0m[1mlocal_file.nginx_file: Creation complete after 0s [id=df74dbc217f5d084ba0f13e44157d904bf79b2c1][0m
[0m[1mnull_resource.wait: Creating...[0m[0m
[0m[1mnull_resource.wait: Provisioning with 'local-exec'...[0m[0m
[0m[1mnull_resource.wait (local-exec):[0m [0mExecuting: ["/bin/sh" "-c" "sleep 20"]
[0m[1mnull_resource.wait: Still creating... [10s elapsed][0m[0m
[0m[1mnull_resource.wait: Still creating... [20s elapsed][0m[0m
[0m[1mnull_resource.wait: Creation complete after 20s [id=4009503337365452655][0m
[0m[1mnull_resource.ansible_nginx: Creating...[0m[0m
[0m[1mnull_resource.ansible_nginx: Provisioning with 'local-exec'...[0m[0m
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mExecuting: ["/bin/sh" "-c" "ansible-playbook -u ubuntu -i ../ansible/inventory.yaml ../ansible/nginx.yaml"]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mPLAY [proxy] *******************************************************************

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mTASK [Gathering Facts] *********************************************************
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mok: [158.160.35.221]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mTASK [update] ******************************************************************
[0m[1mnull_resource.ansible_nginx: Still creating... [10s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [20s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [30s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [40s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mchanged: [158.160.35.221]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mTASK [Install Nginx] ***********************************************************
[0m[1mnull_resource.ansible_nginx: Still creating... [50s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mchanged: [158.160.35.221]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mTASK [Copy default nginx] ******************************************************
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mchanged: [158.160.35.221]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mTASK [enable forwarding] *******************************************************
[0m[1mnull_resource.ansible_nginx: Still creating... [1m0s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mchanged: [158.160.35.221]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mTASK [get masquerade] **********************************************************
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mchanged: [158.160.35.221]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mRUNNING HANDLER [restart nginx] ************************************************
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mchanged: [158.160.35.221]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mPLAY [db] **********************************************************************

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mTASK [Gathering Facts] *********************************************************
[0m[1mnull_resource.ansible_nginx: Still creating... [1m10s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mok: [10.10.10.3]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mTASK [Update and upgrade apt packages] *****************************************
[0m[1mnull_resource.ansible_nginx: Still creating... [1m20s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [1m30s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [1m40s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mchanged: [10.10.10.3]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mTASK [install mysql server] ****************************************************
[0m[1mnull_resource.ansible_nginx: Still creating... [1m50s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [2m0s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [2m10s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [2m20s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [2m30s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [2m40s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [2m50s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx: Still creating... [3m0s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mchanged: [10.10.10.3]

[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0mPLAY RECAP *********************************************************************
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0m10.10.10.3                 : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
[0m[1mnull_resource.ansible_nginx (local-exec):[0m [0m158.160.35.221             : ok=7    changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

[0m[1mnull_resource.ansible_nginx: Creation complete after 3m10s [id=2756567307886001008][0m
[0m[1mnull_resource.ansible_nginx_uwsgi: Creating...[0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi: Provisioning with 'local-exec'...[0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi (local-exec):[0m [0mExecuting: ["/bin/sh" "-c" "git clone https://github.com/vk1391/ansible-nginx-uwsgi.git"]
[0m[1mnull_resource.ansible_nginx_uwsgi (local-exec):[0m [0mCloning into 'ansible-nginx-uwsgi'...
[0m[1mnull_resource.ansible_nginx_uwsgi: Creation complete after 2s [id=490901488663881365][0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Creating...[0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Provisioning with 'local-exec'...[0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mExecuting: ["/bin/sh" "-c" "ansible-playbook -u ubuntu -i ../ansible/inventory.yaml ansible-nginx-uwsgi/nginx-uwsgi.yml"]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mPLAY [Install nginx and uWSGI for a Python web application (pyweb)] ************

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [Gathering Facts] *********************************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mok: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mok: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mPLAY [nginx_uwsgi] *************************************************************

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [Gathering Facts] *********************************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [10s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mok: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [group_by] ****************************************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [debug] *******************************************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mok: [10.10.10.10] => {
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m    "msg": "Ubuntu"
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m}

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mPLAY [nginx_uwsgi] *************************************************************

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [Gathering Facts] *********************************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mok: [10.10.10.25]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [group_by] ****************************************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [debug] *******************************************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mok: [10.10.10.25] => {
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m    "msg": "Ubuntu"
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m}
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m[WARNING]: Could not match supplied host pattern, ignoring: os_Debian

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mPLAY [os_Debian:os_Ubuntu] *****************************************************

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [install_Debian_Ubuntu : Install packages (Debian/Ubuntu)] ****************
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [20s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [30s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [40s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [50s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [1m0s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [1m10s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [1m20s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [install_Debian_Ubuntu : Set special variables for old Debian/Ubuntu versions] ***
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mskipping: [10.10.10.10]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mskipping: [10.10.10.25]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [setup_venv_app : Remove base directory (if present)] *********************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mok: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mok: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [setup_venv_app : Create empty base directory] ****************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [setup_venv_app : Create a virtual environment] ***************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [1m30s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [setup_venv_app : Clone Git repository] ***********************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [setup_venv_app : Install requirements.txt] *******************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [1m40s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [1m50s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [2m0s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [2m10s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [2m20s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [setup_venv_app : Set permissions for base directory] *********************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [patch_config_Debian_Ubuntu : Disable deafult site (Debian/Ubuntu)] *******
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [configure_nginx_uwsgi : Replace global nginx config with clean (hostless) default] ***

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [configure_nginx_uwsgi : Create nginx config] *****************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [2m30s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [configure_nginx_uwsgi : Create uWSGI config] *****************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [create_service_Debian_Ubuntu : Create emperor.uwsgi service (Debian/Ubuntu)] ***
[0m[1mnull_resource.ansible_nginx_uwsgi_install: Still creating... [2m40s elapsed][0m[0m
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [start_services : Enable and start uWSGI Emperor] *************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mTASK [start_services : Enable and start nginx] *********************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.25]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mchanged: [10.10.10.10]
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m[WARNING]: Could not match supplied host pattern, ignoring: os_Fedora

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mPLAY [os_Fedora] ***************************************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mskipping: no hosts matched
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m[WARNING]: Could not match supplied host pattern, ignoring: os_CentOS
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m[WARNING]: Could not match supplied host pattern, ignoring: os_AlmaLinux
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m[WARNING]: Could not match supplied host pattern, ignoring: os_Rocky

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mPLAY [os_CentOS:os_AlmaLinux:os_Rocky] *****************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mskipping: no hosts matched
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m[WARNING]: Could not match supplied host pattern, ignoring: os_Archlinux

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mPLAY [os_Archlinux] ************************************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mskipping: no hosts matched

[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0mPLAY RECAP *********************************************************************
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m10.10.10.10                : ok=17   changed=13   unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
[0m[1mnull_resource.ansible_nginx_uwsgi_install (local-exec):[0m [0m10.10.10.25                : ok=17   changed=13   unreachable=0    failed=0    skipped=2    rescued=0    ignored=0

[0m[1mnull_resource.ansible_nginx_uwsgi_install: Creation complete after 2m50s [id=2621646271803921236][0m
[0m[1m[32m
Apply complete! Resources: 15 added, 0 changed, 0 destroyed.
[0m[0m[1m[32m
Outputs:

[0mexternal_ip_address_balance_nginx = "158.160.35.221"
internal_ip_address_backend1_nginx = "10.10.10.25"
internal_ip_address_backend2_nginx = "10.10.10.10"
internal_ip_address_balance_nginx = "10.10.11.16"
internal_ip_address_db = "10.10.10.3"
